<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:viewmodels="clr-namespace:SpeedrunTracker.ViewModels"
             x:DataType="viewmodels:GameDetailViewModel"
             x:Class="SpeedrunTracker.Views.LeaderboardView">
    <StackLayout>
        <ActivityIndicator IsVisible="{Binding IsLoadingLeaderboard}" IsRunning="{Binding IsLoadingLeaderboard}" VerticalOptions="CenterAndExpand" />
        <ListView IsVisible="{Binding Path=IsLoadingLeaderboard, Converter={StaticResource InverseBoolConverter}}" ItemsSource="{Binding Leaderboard.Runs}" VerticalOptions="FillAndExpand" VerticalScrollBarVisibility="Never" CachingStrategy="RecycleElementAndDataTemplate" SelectionMode="None" HasUnevenRows="True" ItemTemplate="{StaticResource LeaderboardTemplate}">
            <ListView.Behaviors>
                <toolkit:EventToCommandBehavior EventName="ItemTapped"
                                                Command="{Binding NavigateToRunCommand}"
                                                EventArgsConverter="{StaticResource ItemTappedEventArgsConverter}" />
            </ListView.Behaviors>
        </ListView>
    </StackLayout>
</ContentView>
